2025-11-23 17:24:51,669 - LLM_configuration.llm_manager - INFO - wandb initialized successfully
2025-11-23 17:24:51,681 - evaluation.eval - INFO - LLM evaluation started for 4x4 board
2025-11-23 17:24:51,681 - LLM_configuration.llm_manager - INFO - LLM provider set to: ollama (model: gemma3:latest)
2025-11-23 17:24:51,682 - LLM_configuration.llm_manager - INFO - Starting LLM solve with provider: ollama
2025-11-23 17:24:51,683 - LLM_configuration.llm_manager - INFO - Calling Ollama with model: gemma3:latest
2025-11-23 17:24:51,683 - LLM_configuration.llm_manager - INFO - PROMPT FOR MOVE 2:
2025-11-23 17:24:51,683 - LLM_configuration.llm_manager - INFO - ZIP PUZZLE SOLVER - MOVE 2

RULES:
1. Fill ALL 16 cells in a continuous path
2. Start at clue 1, visit clues in order (1→2→3→...), end at highest clue
3. Move only to adjacent cells (up, down, left, right), NO diagonal moves
4. Cannot revisit cells
5. Between clues, fill any empty cells

CURRENT STATE:
GRID ARRAY (P=path, .=empty, #=clue):
 4  .  .  .
 .  .  P  .
 3  .  .  2
 .  .  .  .


VISUAL BOARD:
[ 4][ ][ ][ ]
[ ][ ][P][ ]
[ 3][ ][ ][ 2]
[ ][ ][ ][ ]

CLUES TO VISIT IN ORDER:
CLUES TO VISIT IN ORDER:
  ✓ Clue 1: (1, 2)


CURRENT POSITION: (1, 2)
CELLS FILLED: 1/16
AVAILABLE NEXT MOVES:   (0, 2)
  (2, 2)
  (1, 1)
  (1, 3)

IMPORTANT: You must respond with ONLY the coordinates of your next move.
Format: (row, col)
Example: (1, 2)

What is your next move?
2025-11-23 17:24:53,725 - LLM_configuration.llm_manager - ERROR - Error calling Ollama: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "C:\Users\thame\Desktop\CS5900\zip\Zip_Solver-with_LLM\src\LLM_configuration\llm_manager.py", line 262, in solve_with_ollama
    response: ChatResponse = chat(model=model, messages=messages, stream=False)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\thame\miniconda3\envs\zip\Lib\site-packages\ollama\_client.py", line 351, in chat
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\thame\miniconda3\envs\zip\Lib\site-packages\ollama\_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\thame\miniconda3\envs\zip\Lib\site-packages\ollama\_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-23 17:24:53,744 - UI.GUI - WARNING - No move from LLM (stuck: 1/3)
2025-11-23 17:24:53,745 - evaluation.eval - INFO - Move 1: (-1, -1) - Valid: False, Correct: False, Latency: 2063ms
2025-11-23 17:24:54,739 - LLM_configuration.llm_manager - INFO - LLM provider set to: ollama (model: gemma3:latest)
2025-11-23 17:24:54,740 - LLM_configuration.llm_manager - INFO - Starting LLM solve with provider: ollama
2025-11-23 17:24:54,741 - LLM_configuration.llm_manager - INFO - Calling Ollama with model: gemma3:latest
2025-11-23 17:24:54,741 - LLM_configuration.llm_manager - INFO - PROMPT FOR MOVE 2:
2025-11-23 17:24:54,741 - LLM_configuration.llm_manager - INFO - ZIP PUZZLE SOLVER - MOVE 2

RULES:
1. Fill ALL 16 cells in a continuous path
2. Start at clue 1, visit clues in order (1→2→3→...), end at highest clue
3. Move only to adjacent cells (up, down, left, right), NO diagonal moves
4. Cannot revisit cells
5. Between clues, fill any empty cells

CURRENT STATE:
GRID ARRAY (P=path, .=empty, #=clue):
 4  .  .  .
 .  .  P  .
 3  .  .  2
 .  .  .  .


VISUAL BOARD:
[ 4][ ][ ][ ]
[ ][ ][P][ ]
[ 3][ ][ ][ 2]
[ ][ ][ ][ ]

CLUES TO VISIT IN ORDER:
CLUES TO VISIT IN ORDER:
  ✓ Clue 1: (1, 2)


CURRENT POSITION: (1, 2)
CELLS FILLED: 1/16
AVAILABLE NEXT MOVES:   (0, 2)
  (2, 2)
  (1, 1)
  (1, 3)

IMPORTANT: You must respond with ONLY the coordinates of your next move.
Format: (row, col)
Example: (1, 2)

What is your next move?
2025-11-23 17:24:56,801 - LLM_configuration.llm_manager - ERROR - Error calling Ollama: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "C:\Users\thame\Desktop\CS5900\zip\Zip_Solver-with_LLM\src\LLM_configuration\llm_manager.py", line 262, in solve_with_ollama
    response: ChatResponse = chat(model=model, messages=messages, stream=False)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\thame\miniconda3\envs\zip\Lib\site-packages\ollama\_client.py", line 351, in chat
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\thame\miniconda3\envs\zip\Lib\site-packages\ollama\_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\thame\miniconda3\envs\zip\Lib\site-packages\ollama\_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-23 17:24:56,808 - UI.GUI - WARNING - No move from LLM (stuck: 2/3)
2025-11-23 17:24:56,809 - evaluation.eval - INFO - Move 2: (-1, -1) - Valid: False, Correct: False, Latency: 2069ms
2025-11-23 17:24:57,812 - LLM_configuration.llm_manager - INFO - LLM provider set to: ollama (model: gemma3:latest)
2025-11-23 17:24:57,812 - LLM_configuration.llm_manager - INFO - Starting LLM solve with provider: ollama
2025-11-23 17:24:57,813 - LLM_configuration.llm_manager - INFO - Calling Ollama with model: gemma3:latest
2025-11-23 17:24:57,815 - LLM_configuration.llm_manager - INFO - PROMPT FOR MOVE 2:
2025-11-23 17:24:57,815 - LLM_configuration.llm_manager - INFO - ZIP PUZZLE SOLVER - MOVE 2

RULES:
1. Fill ALL 16 cells in a continuous path
2. Start at clue 1, visit clues in order (1→2→3→...), end at highest clue
3. Move only to adjacent cells (up, down, left, right), NO diagonal moves
4. Cannot revisit cells
5. Between clues, fill any empty cells

CURRENT STATE:
GRID ARRAY (P=path, .=empty, #=clue):
 4  .  .  .
 .  .  P  .
 3  .  .  2
 .  .  .  .


VISUAL BOARD:
[ 4][ ][ ][ ]
[ ][ ][P][ ]
[ 3][ ][ ][ 2]
[ ][ ][ ][ ]

CLUES TO VISIT IN ORDER:
CLUES TO VISIT IN ORDER:
  ✓ Clue 1: (1, 2)


CURRENT POSITION: (1, 2)
CELLS FILLED: 1/16
AVAILABLE NEXT MOVES:   (0, 2)
  (2, 2)
  (1, 1)
  (1, 3)

IMPORTANT: You must respond with ONLY the coordinates of your next move.
Format: (row, col)
Example: (1, 2)

What is your next move?
2025-11-23 17:24:59,853 - LLM_configuration.llm_manager - ERROR - Error calling Ollama: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "C:\Users\thame\Desktop\CS5900\zip\Zip_Solver-with_LLM\src\LLM_configuration\llm_manager.py", line 262, in solve_with_ollama
    response: ChatResponse = chat(model=model, messages=messages, stream=False)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\thame\miniconda3\envs\zip\Lib\site-packages\ollama\_client.py", line 351, in chat
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\thame\miniconda3\envs\zip\Lib\site-packages\ollama\_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\thame\miniconda3\envs\zip\Lib\site-packages\ollama\_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-23 17:24:59,868 - UI.GUI - WARNING - No move from LLM (stuck: 3/3)
2025-11-23 17:24:59,869 - evaluation.eval - INFO - Move 3: (-1, -1) - Valid: False, Correct: False, Latency: 2057ms
2025-11-23 17:25:00,870 - evaluation.eval - INFO - Game ended - Success: False, Efficiency: 0.0%, Accuracy: 0.0%
2025-11-23 17:25:00,873 - evaluation.eval - INFO - Comprehensive metrics logged to wandb
2025-11-23 17:25:00,874 - UI.GUI - INFO - === GAME PERFORMANCE ANALYSIS ===
2025-11-23 17:25:00,874 - UI.GUI - INFO -
=== LLM PERFORMANCE ANALYSIS ===
Board: 4x4 | Completion: FAILED ✗
Time: 9.2s | Grade: F

=== CORE METRICS ===
Total Moves: 3
Valid Moves: 0 (0.0%)
Bad Moves: 3
Correct Moves: 0 (0.0%)
Clue Hits: 0

=== PERFORMANCE ANALYSIS ===
Move Efficiency: 0.0% (valid moves / total moves)
Path Accuracy: 0.0% (optimal path following)
Completion: 0.0% of puzzle filled
Avg Latency: 2063ms per move

=== QUALITY METRICS ===
Response Parsing: 0.0% success rate
Reasoning Quality: 14 avg chars
Move Consistency: 0.0%

=== ADVANCED ANALYSIS ===
Early Error Rate: 0.0% (first 25% of moves)
Late Error Rate: 0.0% (last 25% of moves)
Recovery Rate: 0.0% (bounce back from errors)
Optimal Deviation: 0.00 avg distance from best path

=== INSIGHTS ===
Struggled with move selection

=== LLM PERFORMANCE ANALYSIS ===
Board: 4x4 | Completion: FAILED ✗
Time: 9.2s | Grade: F

=== CORE METRICS ===
Total Moves: 3
Valid Moves: 0 (0.0%)
Bad Moves: 3
Correct Moves: 0 (0.0%)
Clue Hits: 0

=== PERFORMANCE ANALYSIS ===
Move Efficiency: 0.0% (valid moves / total moves)
Path Accuracy: 0.0% (optimal path following)
Completion: 0.0% of puzzle filled
Avg Latency: 2063ms per move

=== QUALITY METRICS ===
Response Parsing: 0.0% success rate
Reasoning Quality: 14 avg chars
Move Consistency: 0.0%

=== ADVANCED ANALYSIS ===
Early Error Rate: 0.0% (first 25% of moves)
Late Error Rate: 0.0% (last 25% of moves)
Recovery Rate: 0.0% (bounce back from errors)
Optimal Deviation: 0.00 avg distance from best path

=== INSIGHTS ===
Struggled with move selection

Traceback (most recent call last):
  File "C:\Users\thame\Desktop\CS5900\zip\Zip_Solver-with_LLM\src\main.py", line 965, in <module>
    main()
  File "C:\Users\thame\Desktop\CS5900\zip\Zip_Solver-with_LLM\src\main.py", line 961, in main
    start_game_with_settings(n, mode_or_provider if 'mode_or_provider' in locals() else ("human" if game_mode == "human" else llm_provider))
  File "C:\Users\thame\Desktop\CS5900\zip\Zip_Solver-with_LLM\src\main.py", line 873, in start_game_with_settings
    game.run()
  File "C:\Users\thame\Desktop\CS5900\zip\Zip_Solver-with_LLM\src\UI\GUI.py", line 1081, in run
    self.draw_grid()
  File "C:\Users\thame\Desktop\CS5900\zip\Zip_Solver-with_LLM\src\UI\GUI.py", line 915, in draw_grid
    self.screen.fill(WHITE)
pygame.error: display Surface quit
